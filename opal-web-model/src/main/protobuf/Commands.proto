package opal;

option java_package = "org.obiba.opal.web.model";

message Message {
  required string msg = 1;
  required string timestamp = 2;
}

message CommandStateDto {
  required string command = 1;
  required string commandArgs = 2;
  required string owner = 3;

  enum Status {
    NOT_STARTED = 0;
    IN_PROGRESS = 1;
    SUCCEEDED = 2;
    FAILED = 3;
  }

  required Status status = 4;
  optional string startTime = 5;
  optional string endTime = 6;
  repeated Message messages = 7;
}

message ImportCommandOptionsDto {
  required string unit = 1;
  required string destination = 2;
  optional string archive = 3;
  repeated string files = 4;
}

message CopyCommandOptionsDto {
  optional string source = 1;
  optional string destination = 2;
  optional string out = 3;
  optional bool nonIncremental = 4;
  optional bool noValues = 5;
  optional bool noVariables = 6;
  optional string multiplex = 7;
  optional string transform = 8;
  repeated string tables = 9;
}