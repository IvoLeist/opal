import "Ws.proto";
package Opal;

option java_package = "org.obiba.opal.web.model";

message FunctionalUnitDto {
  required string name = 1;
  required string keyVariableName = 2;
  optional string select = 3;
}

message KeyPairDto {
  required string alias = 1;
  required string certificate = 2;
}

message KeyPairForm {
  required string alias = 1;
  
  optional PrivateKeyForm privateForm = 2;
  optional string privateImport = 3;
  
  optional PublicKeyForm publicForm = 4;
  optional string publicImport = 5;
}

message PrivateKeyForm {
  required string algo = 1;
  required int32 size = 2; 
}

message PublicKeyForm {
  required string name = 1;
  required string organizationalUnit = 2;
  required string organization = 3;
  required string locality = 4;
  required string state = 5;
  required string country = 6;
}

message FileDto {
  required string name = 1;
  required string path = 2;
  enum FileType {
    FILE = 0;
    FOLDER = 1;
  }
  required FileType type = 3;
  repeated FileDto children = 4;
  optional int64 size = 5;
  optional int64 lastModifiedTime = 6;
}

message LocaleDto {
  required string name = 1;    // Locale.toString()
  optional string display = 2; // Locale.getDisplayName(clientLocale)
}

message JdbcDriverDto {
  required string driverName = 1;  // e.g., "MySQL 5.1"
  required string driverClass = 2; // e.g., "com.mysql.jdbc.Driver" 
}

message ReportTemplateDto {
  required string name = 1;
  required string design = 2;
  required string format = 3;
  repeated ParameterDto parameters = 4;
  optional string cron = 5;
  repeated string emailNotification = 6;
}

message ParameterDto {
  required string key = 1;
  required string value = 2;
}

message Acl {
  required string principal = 1;
  required string resource = 2;
  repeated string actions = 3;
}

message SubjectAcls {
  required string principal = 1;
  repeated Acl acls = 2;
}
