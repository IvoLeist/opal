package opal;

option java_package = "org.obiba.opal.web.model";

message DatasourceDto {
  required string name = 1;
  optional string link = 2;
  repeated string table = 3;
}

message TableDto {
  required string name = 1;
  required string entityType = 2;
  optional string link = 3;
  optional int32 variableCount = 4;
  optional int32 valueSetCount = 5;
  optional string datasourceName = 6;
}

message VariableDto {
  required string name = 1;
  required string valueType = 2;
  optional string mimeType = 3;
  required bool isRepeatable = 4;
  optional string occurrenceGroup = 5;  
  optional string link = 6;
  repeated AttributeDto attributes = 7;
  repeated CategoryDto categories = 8;
  optional string unit = 9;
}

message CategoryDto {
  required string name = 1;
  required bool isMissing = 2;
  repeated AttributeDto attributes = 3;
}

message AttributeDto {
  required string name = 1;
  required string value = 2;
  optional string locale = 3;
}

message FrequencyDto {
  required string name = 1;
  required int32 value = 2;
}